<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/1.714e789c58edc4d97d4f.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.0.31"/><style data-styled="deuHhw dVlzdf FSiJo kfPuqG hyXYOK itGeow bcUvSD iWIxoV kGCCTl fGSVd gGIelI gzoEET deWstv iqsYhj btQvUm bzCfLs kBTHbK kFkvdw kZiJlH" data-styled-version="4.3.1">
/* sc-component-id: sc-global-3325714496 */
@import url("https://fonts.googleapis.com/css?family=Roboto:400,700"); html{line-height:1.15;-webkit-text-size-adjust:100%;} body{margin:0;} h1{font-size:2em;margin:0.67em 0;} hr{box-sizing:content-box;height:0;overflow:visible;} pre{font-family:monospace,monospace;font-size:1em;} a{background-color:transparent;} abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;} b,strong{font-weight:bolder;} code,kbd,samp{font-family:monospace,monospace;font-size:1em;} small{font-size:80%;} sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;} sub{bottom:-0.25em;} sup{top:-0.5em;} img{border-style:none;} button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;} button,input{overflow:visible;} button,select{text-transform:none;} button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;} button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;} button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;} fieldset{padding:0.35em 0.75em 0.625em;} legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;} progress{vertical-align:baseline;} textarea{overflow:auto;} [type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;} [type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;} [type="search"]{-webkit-appearance:textfield;outline-offset:-2px;} [type="search"]::-webkit-search-decoration{-webkit-appearance:none;} ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;} details{display:block;} summary{display:list-item;} template{display:none;} [hidden]{display:none;} *,*:before,*:after{box-sizing:inherit;} html{font-size:62.5%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;box-sizing:border-box;} body{background:#f9fafc;font-family:'Open Sans',sans-serif;line-height:1.5;padding:50px 0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;} img{max-width:100%;} .gatsby-highlight{border-bottom:1px solid #e0e6ed;border-top:1px solid #e0e6ed;margin:15px -100px;padding:0;} .gatsby-highlight pre[class*="language-"]{margin:0;padding:25px 100px;} pre[class*="language-"]{background:rgba(245,245,245,1);color:rgb(65,76,94);} @media only screen and (max-width:870px){.gatsby-highlight{margin:15px -15px;}.gatsby-highlight pre[class*="language-"]{padding:25px;}}
/* sc-component-id: sc-bdVaJa */
.deuHhw{margin:0 auto;max-width:1080px;}
/* sc-component-id: sc-htpNat */
.itGeow{margin-top:15px;text-align:center;}
/* sc-component-id: sc-bxivhb */
.bcUvSD{border:1px solid #bfc8d2;border-radius:15px;color:#3e465b;display:inline-block;margin:5px;padding:5px 10px;-webkit-text-decoration:none;text-decoration:none;} .bcUvSD svg{display:inline-block;height:20px;margin-right:5px;stroke:#6e849c;vertical-align:middle;width:20px;} .bcUvSD:hover{border-color:#3e465b;}
/* sc-component-id: sc-ifAKCX */
.FSiJo{color:#3e465b;font-size:35px;line-height:1.5;margin:0;padding:0 30px;text-align:center;}
/* sc-component-id: sc-bZQynM */
.hyXYOK{color:#666d71;display:block;font-size:1.6em;margin:50px 0 0 0;text-align:center;margin:0;}
/* sc-component-id: sc-gzVnrw */
.kfPuqG{color:#3498db;-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: sc-htoDjs */
.dVlzdf{margin:0 auto;max-width:650px;padding:0 50px 50px;text-align:center;}
/* sc-component-id: sc-dnqmqq */
.iWIxoV{background:#fff;border:1px solid #e0e6ed;box-shadow:0 1px 5px rgba(0,0,0,0.05);margin-bottom:30px;padding:75px 100px;} @media only screen and (max-width:870px){.iWIxoV{border-left:none;border-right:none;padding:75px 15px;}}
/* sc-component-id: sc-iwsKbI */
.gzoEET{margin-top:50px;text-align:center;}
/* sc-component-id: sc-gZMcBi */
.deWstv{border:1px solid #bfc8d2;border-radius:25px;color:#3e465b;display:inline-block;font-size:10px;font-weight:700;margin:0 10px;padding:5px 15px;-webkit-text-decoration:none;text-decoration:none;text-transform:uppercase;} .deWstv:hover{border-color:#000;}
/* sc-component-id: sc-VigVT */
.kGCCTl{text-align:center;}
/* sc-component-id: sc-jTzLTM */
.fGSVd{color:#3e465b;-webkit-text-decoration:none;text-decoration:none;} .fGSVd:hover{color:#3498db;}
/* sc-component-id: sc-fjdhpX */
.gGIelI{color:#666d71;display:block;font-size:1.6em;margin:0;text-align:center;}
/* sc-component-id: sc-jzJRlG */
.btQvUm{color:#65738c;font-size:16px;} .btQvUm a{color:#3498db;font-weight:700;-webkit-text-decoration:none;text-decoration:none;} .btQvUm a:hover{-webkit-text-decoration:underline;text-decoration:underline;} .btQvUm h1{color:#3e465b;font-size:30px;font-weight:700;line-height:1.5;margin:25px 50px 15px;} .btQvUm h2{color:#3e465b;font-size:22px;font-weight:700;line-height:1.5;margin:25px 50px 15px;} .btQvUm h3{color:#3e465b;font-size:17px;font-weight:700;line-height:1.5;margin:25px 50px 15px;} .btQvUm h4{color:#3e465b;font-weight:700;line-height:1.5;margin:25px 50px 15px;} .btQvUm h5,.btQvUm h6{color:#3e465b;font-weight:700;line-height:1.5;margin:25px 50px 15px;} .btQvUm p{line-height:1.7;margin:15px 50px;} .btQvUm blockquote{border-left:5px solid #e0e6ed;line-height:1.7;margin:15px 50px 15px 75px;padding:10px 10px 10px 15px;} .btQvUm blockquote p{margin:0;} .btQvUm ul,.btQvUm ol{line-height:1.7;margin:15px 0;padding:0 50px 0 100px;} .btQvUm ul p,.btQvUm ol p,.btQvUm ul ul,.btQvUm ol ul,.btQvUm ul ol,.btQvUm ol ol{margin:0;} .btQvUm ul ul,.btQvUm ol ul,.btQvUm ul ol,.btQvUm ol ol{padding:0 0 0 30px;} .btQvUm img{margin:15px 0;}
/* sc-component-id: sc-cSHVUG */
.iqsYhj h1{color:#3e465b;font-size:35px;line-height:1.5;margin:0;padding:0 30px;text-align:center;} .iqsYhj p{color:#666d71;display:block;font-size:1.6em;margin:0;text-align:center;} .iqsYhj span{background:#9c9da3;display:block;margin:50px auto;height:1px;width:150px;}
/* sc-component-id: sc-kAzzGY */
.kZiJlH{margin-top:50px;text-align:center;}
/* sc-component-id: sc-chPdSV */
.kBTHbK{color:#3e465b;font-size:22px;font-weight:700;line-height:1.5;margin:25px 50px 15px;}
/* sc-component-id: sc-kgoBCf */
.bzCfLs{margin-top:50px;text-align:center;}
/* sc-component-id: sc-kGXeez */
.kFkvdw{border:1px solid #bfc8d2;border-radius:15px;display:inline-block;margin:5px;padding:5px 15px;-webkit-text-decoration:none;text-decoration:none;} .kFkvdw svg{display:inline-block;height:20px;stroke:#6e849c;vertical-align:middle;width:20px;} .kFkvdw:hover{border-color:#3e465b;}</style><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#3498db"/><title data-react-helmet="true">IBM WebSphere Liberty and Spring AOP | Arek Jurasz</title><meta data-react-helmet="true" name="description" content="Dev Blog | Software Engineer"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-9f31e34a1dce47c5b897.js"/><link as="script" rel="preload" href="/app-b478122f533294b82ffc.js"/><link as="script" rel="preload" href="/8-1aa58b92cd772f99dba9.js"/><link as="script" rel="preload" href="/1-c677f621e98a330e7e29.js"/><link as="script" rel="preload" href="/0-4bb96b712f2494825956.js"/><link as="script" rel="preload" href="/webpack-runtime-7144b1b7e5b27c48a2af.js"/><link rel="preload" href="/static/d/288/path---2019-05-12-wlp-spring-aop-6-df-5f1-dozXagOkI7EPY21P67gZgwzQNCw.json" as="fetch" crossOrigin="use-credentials"/><link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAABILAAASCwAAAAAAAAAAAADbmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmjX/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uaNf/bmTP/2pUq/9uZM//bmjT/25o1/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25o1/9ybN//alSv/25o1/+KtXP/bmDL/2pYt/9qVK//cmzb/25o1/9uZM//bmTP/25kz/9uZM//bmTP/25o0/9qVK//YjyD/36RJ/+W1bf/25s//3J07/+CoUv/irFv/2JAh/9mUKP/bmTT/25kz/9uZM//bmTP/25k0/9qVLP/hqVT/8tq3///////pwob/8tq1/+OvYf/ksmb///////Xjyf/jsWX/2pYt/9uZM//bmTP/3Js2/9mTJ//uz6H///////DUq//eo0j/1owZ/+7Nnf/tzJr/140b/9ydPP/syJP///////ThxP/aliz/25o0/9uaNf/alSv/57t5//nv4P/25s//68eR/9ybOP/ltGv/896//9qWL//pwIP/9eLG//nw4//rx5H/2pYu/9uaNP/bmTP/25o0/9mTKP/blzH/57t4//rx5f/ty5n/3Js3//Xjyf/pwYX/+/Tq/+rDif/cnDn/2ZIl/9uZNP/bmTP/25kz/9uZM//bmjX/25kz/9iRJP/ZlCr/3Z9A/9mUKf/z38D/5bRs/9iRJf/YkST/25gx/9yaNv/bmTP/25kz/9uZM//bmTP/25kz/9uZM//cmjb/25o0/9uYMP/bmDH/3Z4//9ybOf/bmDH/3Js3/9uZNP/bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTT/25kz/9uYMP/bmDH/25k0/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTT/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/25kz/9uZM//bmTP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div><section class="sc-bdVaJa deuHhw"><header class="sc-htoDjs dVlzdf"><h1 class="sc-ifAKCX FSiJo"><a class="sc-gzVnrw kfPuqG" href="/">Arek Jurasz</a></h1><p class="sc-EHOje sc-bZQynM hyXYOK">Software Engineer</p><div class="sc-htpNat itGeow"><a href="https://twitter.com/arekjurasz" target="_blank" rel="noopener" class="sc-bxivhb bcUvSD"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>Twitter</a><a href="https://github.com/ajurasz" target="_blank" rel="noopener" class="sc-bxivhb bcUvSD"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>Github</a><a href="https://www.linkedin.com/in/arkadiusz-jurasz/" target="_blank" rel="noopener" class="sc-bxivhb bcUvSD"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>LinkedIn</a></div></header></section><section class="sc-bdVaJa deuHhw"><div class="sc-dnqmqq iWIxoV"><div class="sc-cSHVUG iqsYhj"><h1>IBM WebSphere Liberty and Spring AOP</h1><p>May 12, 2019</p><span></span></div><article class="sc-jzJRlG btQvUm"><div><p>Investigation walkthrough for an issue related to multiple <code class="language-text">classloaders</code> available when <code class="language-text">SpringBoot</code> application is deployed on <code class="language-text">IBM WebSphere Liberty</code> (<code class="language-text">WSL</code>).</p>
<!-- end -->
<h2>Motivation</h2>
<p>Recently I was investigating a strange issue that was present only in a production-like environment. Fortunately, my team have CI which is almost 1 to 1 with production so we were able to catch this issue before deployment. So what’s different between production and local environment you may ask. Well, the answer is very simple - we use different servlet containers. For local development, we use embedded <code class="language-text">Tomcat</code> web server that is ship together with <code class="language-text">SpringBoot</code>. On production, we have <code class="language-text">WSL</code> application server. Because I wanted to know why the issue was happening only on one environment and working perfectly fine on another I had to dig a little bit. </p>
<h2>Context</h2>
<p>Before moving forward with the analyze let’s give some context so that what I will write next will have more sense. As always it starts with a <strong>simple</strong> task in Jira backlog. The task was to move complex <strong>authorization</strong> mechanism from service to web layer. </p>
<blockquote>
<p>authorization is the process of verifying that “you are permitted to do what you are trying to do”</p>
</blockquote>
<blockquote>
<p>source: Wikipedia</p>
</blockquote>
<p>The difference on performing <strong>authorization</strong> on these two layers is that services operate on actual objects where web controllers on identifiers of these objects. Below is pseudo code for the change that was planed.</p>
<p>Before:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">aspect(object) {
  return allowedToAccess(object)
}</code></pre></div>
<p>After:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">aspect(identifier) {
  const object = resolveObjectFrom(identifier)
  return allowedToAccess(object)
}</code></pre></div>
<p>For now, we know what needs to be done and how. But one more important addition to the context is about convention* we try to follow in our code base - which is - extensive usage of encapsulation which in our case is more about creating a clear interface for others who will be using these objects than just hiding information.</p>
<p>* clarification - we follow more conventions/best practices but in the context of this post, only this single convention is important.</p>
<p>But what this exactly mean? In simple words, we use <code class="language-text">public</code> modifier only when it’s really required, if not then we operate mostly using only <code class="language-text">private</code> and <code class="language-text">package protected</code> modifiers. I think the above context should be enough to start analyzing a concrete example. To make analyze simpler I have created a sample application demonstrate a problem and can be found on <a href="https://github.com/ajurasz/wlp-spring-aop">github</a>. </p>
<h2>Analyze</h2>
<h3>Posotive scenario</h3>
<p>For our case, we need to focus only on three elements.</p>
<ol>
<li><code class="language-text">HelloControler</code> this is standard <code class="language-text">RestController</code> to which one dependency is injected.</li>
</ol>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> HelloService helloService<span class="token punctuation">;</span>

    <span class="token function">HelloController</span><span class="token punctuation">(</span>HelloService helloService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>helloService <span class="token operator">=</span> helloService<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/hello/{name}"</span><span class="token punctuation">)</span>
    ResponseEntity<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">></span></span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span> String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ResponseEntity<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>helloService<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<ol start="2">
<li><code class="language-text">PointcutedHelloController</code> is special because <code class="language-text">PointcutedHelloController#hello</code> is join point for around advice (<a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop">AOP terminology</a>)</li>
</ol>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">class</span> <span class="token class-name">PointcutedHelloController</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> HelloService helloService<span class="token punctuation">;</span>

    <span class="token function">PointcutedHelloController</span><span class="token punctuation">(</span>HelloService helloService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>helloService <span class="token operator">=</span> helloService<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/hello-aop/{name}"</span><span class="token punctuation">)</span>
    ResponseEntity<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">></span></span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span> String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ResponseEntity<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>helloService<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<ol start="3">
<li><code class="language-text">LoggingAspect</code> which registers advice around specified pointcut</li>
</ol>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Aspect</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">class</span> <span class="token class-name">LoggingAspect</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Logger LOG <span class="token operator">=</span> LoggerFactory<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span>LoggingAspect<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">"within(com.example.demo.PointcutedHelloController)"</span><span class="token punctuation">)</span>
    Object <span class="token function">aroud</span><span class="token punctuation">(</span>ProceedingJoinPoint pjp<span class="token punctuation">)</span> <span class="token keyword">throws</span> Throwable <span class="token punctuation">{</span>
        LOG<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>pjp<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLongString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> pjp<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>You can run tests or application itself (<code class="language-text">mvn spring-boot:run</code>) and call <code class="language-text">hello</code> methods - everything will work as expected. Please notice, if you will place <code class="language-text">breakpoint</code> in <code class="language-text">PointcutedHelloController#hello</code> you will see that <code class="language-text">PointcutedHelloController</code> is wrapped with <code class="language-text">com.example.demo.PointcutedHelloController$$EnhancerBySpringCGLIB</code> proxy.</p>
<h3>Negative scenario</h3>
<p>First you will have to change profile setting <code class="language-text">activeByDefault</code> from <code class="language-text">false</code> to <code class="language-text">true</code> in <code class="language-text">pom.xml</code> so it looks like this:</p>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>wlp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activation</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeByDefault</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeByDefault</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activation</span><span class="token punctuation">></span></span></code></pre></div>
<p>then you just need to build <code class="language-text">war</code> package (<code class="language-text">mvn clean package -DskipTest</code>) and deploy it to <code class="language-text">WSL</code>. After starting the server it crashes with the following message:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">Caused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class com.example.demo.PointcutedHelloController: Common causes of this problem include using a final class or a non-visible class<span class="token punctuation">;</span> nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--<span class="token operator">></span>class com.example.demo.PointcutedHelloController$<span class="token variable">$EnhancerBySpringCGLIB</span>$<span class="token variable">$4f0e109d</span> cannot access its superclass com.example.demo.PointcutedHelloController
    at org.springframework.aop.framework.CglibAopProxy.getProxy<span class="token punctuation">(</span>CglibAopProxy.java:208<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.aop.framework.ProxyFactory.getProxy<span class="token punctuation">(</span>ProxyFactory.java:110<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy<span class="token punctuation">(</span>AbstractAutoProxyCreator.java:471<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary<span class="token punctuation">(</span>AbstractAutoProxyCreator.java:350<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization<span class="token punctuation">(</span>AbstractAutoProxyCreator.java:299<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization<span class="token punctuation">(</span>AbstractAutowireCapableBeanFactory.java:429<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean<span class="token punctuation">(</span>AbstractAutowireCapableBeanFactory.java:1782<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean<span class="token punctuation">(</span>AbstractAutowireCapableBeanFactory.java:593<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    <span class="token punctuation">..</span>. 32 common frames omitted
Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--<span class="token operator">></span>class com.example.demo.PointcutedHelloController$<span class="token variable">$EnhancerBySpringCGLIB</span>$<span class="token variable">$4f0e109d</span> cannot access its superclass com.example.demo.PointcutedHelloController
    at org.springframework.cglib.core.ReflectUtils.defineClass<span class="token punctuation">(</span>ReflectUtils.java:530<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.cglib.core.AbstractClassGenerator.generate<span class="token punctuation">(</span>AbstractClassGenerator.java:363<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.cglib.proxy.Enhancer.generate<span class="token punctuation">(</span>Enhancer.java:582<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.cglib.core.AbstractClassGenerator<span class="token variable">$ClassLoaderData</span><span class="token variable">$3</span>.apply<span class="token punctuation">(</span>AbstractClassGenerator.java:110<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.cglib.core.AbstractClassGenerator<span class="token variable">$ClassLoaderData</span><span class="token variable">$3</span>.apply<span class="token punctuation">(</span>AbstractClassGenerator.java:108<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.cglib.core.internal.LoadingCache<span class="token variable">$2</span>.call<span class="token punctuation">(</span>LoadingCache.java:54<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at java.util.concurrent.FutureTask.run$$<span class="token variable">$capture</span><span class="token punctuation">(</span>FutureTask.java:266<span class="token punctuation">)</span> <span class="token punctuation">[</span>na:1.8.0_201<span class="token punctuation">]</span>
    at java.util.concurrent.FutureTask.run<span class="token punctuation">(</span>FutureTask.java<span class="token punctuation">)</span> <span class="token punctuation">[</span>na:1.8.0_201<span class="token punctuation">]</span>
    at org.springframework.cglib.core.internal.LoadingCache.createEntry<span class="token punctuation">(</span>LoadingCache.java:61<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.cglib.core.internal.LoadingCache.get<span class="token punctuation">(</span>LoadingCache.java:34<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.cglib.core.AbstractClassGenerator<span class="token variable">$ClassLoaderData</span>.get<span class="token punctuation">(</span>AbstractClassGenerator.java:134<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.cglib.core.AbstractClassGenerator.create<span class="token punctuation">(</span>AbstractClassGenerator.java:319<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.cglib.proxy.Enhancer.createHelper<span class="token punctuation">(</span>Enhancer.java:569<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.cglib.proxy.Enhancer.createClass<span class="token punctuation">(</span>Enhancer.java:416<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance<span class="token punctuation">(</span>ObjenesisCglibAopProxy.java:57<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    at org.springframework.aop.framework.CglibAopProxy.getProxy<span class="token punctuation">(</span>CglibAopProxy.java:205<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    <span class="token punctuation">..</span>. 39 common frames omitted
Caused by: java.lang.IllegalAccessError: class com.example.demo.PointcutedHelloController$<span class="token variable">$EnhancerBySpringCGLIB</span>$<span class="token variable">$4f0e109d</span> cannot access its superclass com.example.demo.PointcutedHelloController
    at java.lang.ClassLoader.defineClass1<span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>na:1.8.0_201<span class="token punctuation">]</span>
    at java.lang.ClassLoader.defineClass<span class="token punctuation">(</span>ClassLoader.java:763<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>na:1.8.0_201<span class="token punctuation">]</span>
    at sun.reflect.GeneratedMethodAccessor27.invoke<span class="token punctuation">(</span>Unknown Source<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>na:na<span class="token punctuation">]</span>
    at sun.reflect.DelegatingMethodAccessorImpl.invoke<span class="token punctuation">(</span>DelegatingMethodAccessorImpl.java:43<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>na:1.8.0_201<span class="token punctuation">]</span>
    at java.lang.reflect.Method.invoke<span class="token punctuation">(</span>Method.java:498<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>na:1.8.0_201<span class="token punctuation">]</span>
    at org.springframework.cglib.core.ReflectUtils.defineClass<span class="token punctuation">(</span>ReflectUtils.java:527<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE<span class="token punctuation">]</span>
    <span class="token punctuation">..</span>. 54 common frames omitted</code></pre></div>
<p>First thing that caught my attention was <code class="language-text">Could not generate CGLIB subclass of ...: Common causes of this problem include using a final class or a non-visible class</code> which seems to be fair enough as controller class is not public so it can be non-visible but then next question arises - why this was working locally when deployed on <code class="language-text">Tomcat</code>? At this point removing AOP advice from <code class="language-text">PointcutedHelloController#hello</code> metod, fix the problem. This clearly indicates that there is something wrong when using <code class="language-text">Spring AOP</code>. Maybe it requires classes and method to be public? Let’s see what <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-introduction-proxies">documentation</a> says about it. Most important fragment of this documentation to my current situation is:</p>
<blockquote>
<p>With CGLIB, public and protected method calls on the proxy are intercepted (and even package-visible methods, if necessary).</p>
</blockquote>
<p>And this is true when deploying on <code class="language-text">Tomcat</code> but not when on <code class="language-text">WSL</code>. Because I’m not a <code class="language-text">WSL</code> expert I had to do some googling to find out that this issue can be related to <code class="language-text">classloader</code>s. Where one <code class="language-text">classloader</code> is used to load all 3rd party libraries from <code class="language-text">/WEB-INF/lib</code> and my own classes from <code class="language-text">/WEB-INF/classes</code> and another when creating proxy for <code class="language-text">PointcutedHelloController</code>.  </p>
<p>After debugging session I was able to nail down which <code class="language-text">classloader</code> is used when creating proxy.</p>
<p><code class="language-text">Spring AOP</code> creates its proxies through <code class="language-text">CglibAopProxy#getProxy(classLoader)</code>. This <code class="language-text">ClassLoader</code> object in the end is provided by <code class="language-text">DefaultResourceLoader</code> which sets <code class="language-text">classLoader</code> to <code class="language-text">Thread.currentThread().getContextClassLoader()</code> during object construction. Bellow is screenshot which shows how <code class="language-text">classLoader</code> provided by <code class="language-text">DefaultResourceLoader</code> (left) differs from <code class="language-text">classLoader</code> awaible in any other place of my application when calling <code class="language-text">getClass().getClassLoader()</code></p>
<p>
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; margin: 15px -30px !important max-width: 700px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 41.82106934886183%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA+klEQVQY032OiW6EIBRF/f8vVOpalhEdwGEbUJAqZtqmaXsSCMu7S6EmPFJ8u49KK++8y4SwpZSc5AKhBxdGKZNZ/er9sdYtDxSGjWKatbH7vqdP8tlrITBiXFhjX89fZDFFDGMl5eF3GZ84d5g7xQXBUsozM+NfxBCzeGjmslqmKYRwGsa8hXg4r3phGGprj68fyde1CP7ptI4xpu9ctSXjfSfuzGid21ydnHu6y65Iv5LFm5Z86GcICUQjpQQTjAmCiCCstP5bnNlWz+ltplP/Vg9N24G6rUBTgq5pHw/5j/hMDtYscOCI4AqQukEVeC8rWALUD0qdyR8UAsyHX1iO4gAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="wlp-classloaders"
        title=""
        src="/static/wlp-classloaders-bbf863545b228772548aee63cf3863d0-bc3ba.png"
        srcset="/static/wlp-classloaders-bbf863545b228772548aee63cf3863d0-367a5.png 175w,
/static/wlp-classloaders-bbf863545b228772548aee63cf3863d0-cfecb.png 350w,
/static/wlp-classloaders-bbf863545b228772548aee63cf3863d0-bc3ba.png 700w,
/static/wlp-classloaders-bbf863545b228772548aee63cf3863d0-1b41b.png 1050w,
/static/wlp-classloaders-bbf863545b228772548aee63cf3863d0-50f8d.png 1400w,
/static/wlp-classloaders-bbf863545b228772548aee63cf3863d0-82085.png 1889w"
        sizes="(max-width: 700px) 100vw, 700px"
      />
    </span>
  </span>
  </p>
<p>It looks like the one created by <code class="language-text">DefaultResourceLoader</code> is not aware of my classes so that’s the reason why application crashes on startup.</p>
<h3>Fix</h3>
<p>We know that everything starts in <code class="language-text">DefaultResourceLoader</code> so we can register our custom <code class="language-text">ServletContextInitializer</code> to override default <code class="language-text">classLoader</code> created by <code class="language-text">DefaultResourceLoader</code>. This can be done by extending <code class="language-text">SpringBootServletInitializer</code> class like so:</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoApplication</span> <span class="token keyword">extends</span> <span class="token class-name">SpringBootServletInitializer</span>
<span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        SpringApplication<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>DemoApplication<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> SpringApplicationBuilder <span class="token function">configure</span><span class="token punctuation">(</span>SpringApplicationBuilder applicationBuilder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> applicationBuilder<span class="token punctuation">.</span><span class="token function">sources</span><span class="token punctuation">(</span>DemoApplication<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">initializers</span><span class="token punctuation">(</span>configurableApplicationContext <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">{</span>
                    ClassLoader classLoader <span class="token operator">=</span> <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">(</span><span class="token punctuation">(</span>DefaultResourceLoader<span class="token punctuation">)</span>configurableApplicationContext<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setClassLoader</span><span class="token punctuation">(</span>classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>It is possible becouse <code class="language-text">configurableApplicationContext</code> is instance of <code class="language-text">AnnotationConfigServletWebServerApplicationContext</code> class which in turn is subclass of <code class="language-text">DefaultResourceLoader</code>.</p></div></article><div class="sc-kgoBCf bzCfLs"><h2 class="sc-chPdSV kBTHbK">Share This Post</h2><a href="https://www.facebook.com/sharer/sharer.php?u=" target="_blank" aria-label="Share on Facebook" rel="noopener" class="sc-kGXeez kFkvdw"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a><a href="https://twitter.com/intent/tweet?text=IBM%20WebSphere%20Liberty%20and%20Spring%20AOP&amp;url=" target="_blank" aria-label="Share on Twitter" rel="noopener" class="sc-kGXeez kFkvdw"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=&amp;title=IBM%20WebSphere%20Liberty%20and%20Spring%20AOP" target="_blank" aria-label="Share on LinkedIn" rel="noopener" class="sc-kGXeez kFkvdw"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="mailto:?subject=IBM%20WebSphere%20Liberty%20and%20Spring%20AOP&amp;body=" aria-label="Share by Email" rel="noopener" class="sc-kGXeez kFkvdw"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a></div></div><div class="sc-kAzzGY kZiJlH"><a rel="prev" class="sc-gZMcBi deWstv" href="/2018-09-09-adding-deb-packages-to-cloud-foundry-instances/">← <!-- -->Adding deb packages to Cloud Foundry instances</a><a rel="next" class="sc-gZMcBi deWstv" href="/2019-06-02-verify-your-json/">Verify your JSON<!-- --> →</a></div></section></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-70225806-1', 'auto', {});
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"2019-05-12-wlp-spring-aop-6df","path":"/2019-05-12-wlp-spring-aop/"};window.dataPath="288/path---2019-05-12-wlp-spring-aop-6-df-5f1-dozXagOkI7EPY21P67gZgwzQNCw";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-b478122f533294b82ffc.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-70fa0028ee7496e8897a.js"],"component---src-templates-index-js":["/component---src-templates-index-js-c29281ac444d3e6f6506.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-9f31e34a1dce47c5b897.js"],"component---src-pages-404-js":["/component---src-pages-404-js-138edb35d80723b438f9.js"]};/*]]>*/</script><script src="/webpack-runtime-7144b1b7e5b27c48a2af.js" async=""></script><script src="/0-4bb96b712f2494825956.js" async=""></script><script src="/1-c677f621e98a330e7e29.js" async=""></script><script src="/8-1aa58b92cd772f99dba9.js" async=""></script><script src="/app-b478122f533294b82ffc.js" async=""></script><script src="/component---src-templates-blog-post-js-9f31e34a1dce47c5b897.js" async=""></script></body></html>